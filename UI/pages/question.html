<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="../assets/css/style.css" />
    <link rel="stylesheet" href="../assets/css/questions.css" />
    <link rel="stylesheet" href="../assets/css/question.css" />
    <title>Questioner</title>
  </head>

  <body>
    <!-- Begin Nav -->
    <nav class="dark-nav">
        <ul>
          <li><a  href="../index.html">Home</a></li>
          <li><a onclick="linker('meetup')" href="">Meetups</a></li>
          <li><a class="active" onclick="linker('questions')" href="">Questions</a></li>
        </ul>
      </nav>
    <!-- End Nav -->

    <div class="container">
      <div class="header">
        <div><h1>Question</h1></div>
        <div><button id="askButton" class="dark-button">Ask</button></div>
      </div>
      <div class="question-section" >
        <h3 id="questionTitle"></h3>
        <div class="question-summary" id="question-summary">
          <div class="question-stats">
            <div class="votes">upvote<i class="fas fa-2x fa-arrow-up"></i></div>
            <div class="status">
              <div class="mini-counts"><span id='questionVote'></span></div>
            </div>
            <div class="views">downvote<i class="fas fa-2x fa-arrow-down"></i></div>
          </div>
          <div class="summary">
            <div>
              <div>
                <a href="#" class="question-hyperlink" id="questionBody">
                 </a
                >
              </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="comment-section">
        <div class="view-comments comment">
          <h3>Comments</h3>
          <div class="summary">
            <div>
              <div>
                <p class="comment-message">
                  WooCommerce 3.0 make checkout company input readonly/disabled
                  and still pass the input contents to order
                </p>
              </div>
              <div class="comment-info">
                <small class="small comment-time">47 minutes ago</small>
                <a href="" class="small comment-user" title="" rel=""
                  >Olufowora Ibrahim</a
                >
              </div>
            </div>
          </div>
          <div class="summary">
            <div>
              <div>
                <p class="comment-message">
                  WooCommerce 3.0 make checkout company input readonly/disabled
                  and still pass the input contents to order
                </p>
              </div>
              <div class="comment-info">
                <small class="small comment-time">47 minutes ago</small>
                <a href="" class="small comment-user" title="" rel=""
                  >Olufowora Ibrahim</a
                >
              </div>
            </div>
          </div>
          <div class="summary">
            <div>
              <div>
                <p class="comment-message">
                  WooCommerce 3.0 make checkout company input readonly/disabled
                  and still pass the input contents to order
                </p>
              </div>
              <div class="comment-info">
                <small class="small comment-time">47 minutes ago</small>
                <a href="" class="small comment-user" title="" rel=""
                  >Olufowora Ibrahim</a
                >
              </div>
            </div>
          </div>
        </div>
        <div class="post-comment comment">
          <label for="comment"><b>Comment</b></label> <br />
          <textarea>Comment here</textarea>

          <span id="error_comment" class="text-danger"></span>
        </div>
        <div><button id="askButton" class="dark-button">Post</button></div>
      </div>
      <div></div>
    </div>
    <!-- Begin Footer -->
    <footer>
      <div class="name">
        <p>Questioner</p>
        <p>Lagos, Nigeria</p>
        <p>+2348136715215</p>
        <p>support@questioner.com </p>
        <p>@Questioner</p>
      </div>
    </footer>
    <!-- End Footer -->

    <script src="../assets/js/link.js"></script>

    <script>
      let url = window.location.href;
      const urlSplit = url.split('?')
      const params = urlSplit[1];
      const newParams = params.split('=');
      const questionId = newParams[1];
      console.log(questionId);
      
      const getquestion = (questionId) =>{
        let request = new XMLHttpRequest();
        request.open('GET', `https://oladims-questioner.herokuapp.com/api/v1/questions/${questionId}`, true);
        request.onload = function () {
    
          var data = JSON.parse(this.response);
         let question = data.data[0].question[0];
          console.log(question);
          let questionBody = document.getElementById('questionBody');
          let questionVote = document.getElementById('questionVote')
          let questionTitle = document.getElementById('questionTitle')
          if (request.status >= 200 && request.status < 400) {
            questionBody.innerText = question.body;
            questionVote.innerText = question.votes;
            questionTitle.innerText = question.title;
          } else {
            console.log('error');
          }
        }
    
        request.send();
      }
      getquestion(questionId);
      </script>
  </body>
</html>
